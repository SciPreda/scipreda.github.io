<!doctype html>
<html>
<head>
<title>Stringtool</title>
<meta charset="UTF-8">
<meta name="description" content="Stringtool Revamped: a mostly experimental tool for handling Strings.">
<meta name="author" content="SciPred">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
	width: 100%;
	height: 100%;
	margin: 0;
	background: #eee;
	font-family: sans-serif;
	text-align: center;
}
header {
	top: 0;
	left: 0;
	width: 100%;
	height: 10%;
	background: #bbb;
	padding-top: 3px;
	overflow-y: hidden;
	transition: all 0.2s;
}
header p, header ul {
	margin-left: 2.5%;
	margin-right: 2.5%;
	text-align: justify;
	color: black;
}
header:hover {
	background: #ccc;
	color: darkgreen;
}
section {
	height: 100%;
	overflow-y: auto;
}
textarea {
	resize: none;
	width: 97.5%;
	height: 97.5%;
	border-radius: 0;
}
textarea::-webkit-scrollbar {width: 7px;}
textarea::-webkit-scrollbar-track {background: black;}
textarea::-webkit-scrollbar-thumb {background: #aaa;}
button {
	background: white;
	border-radius: 4px;
	border: 2px solid black;
	margin-bottom: 4px;
}
button:hover {
	background: #cec;
}
button:active {
	background: black;
	color: white;
}
input {
	width: 21%;
	margin-bottom: 3px;
}
.main-container {
	height: 90%;
	width: 100%;
	display: flex;
}
.left-info, .right-info {
	margin: 0;
	background: #ddd;
}
.left-info {
	width: 30%;
}
.right-info {
	width: 20%;
}
.middle-txtarea {
	width: 50%;
	margin: 0;
	background: #aaa;
}
::-webkit-scrollbar {width: 0;}
</style>
</head>
<body>
<header>
<h1>STRINGTOOL</h1>
<br>
<p>Stringtool is a pointless website that was made by SciPred for the sake of - well, for the sake of editing a single input string.</p>
<p>The first few versions were weirdly designed and was almost entirely unusable on mobile. In 2025 I decided to rewrite the entire thing from scratch and make it more responsive and straight to the point. This also includes removing the header height expansion on hover, which made controls difficult.</p>
<p>Some features, such as <i>Function Mode</i>, were removed entirely due to inconsistency and inefficiency in operation despite having a built-in guide on how to use it. Buttons for controls were added to the sides, and operations that involved extra inputs such as <i>slice</i> and <i>substr</i> had their menus removed entirely. All input fields are now beside their corresponding operation buttons to make the layout more user-friendly. Some operations may share the same input fields.</p>
<p>Many more operations and features were added for convenience, such as more information on the string rather than just length. More features may be added in the future - however, take note that as of now not all methods from <i>String.prototype</i> are Stringtool operations, and vice versa.</p>
<h4>Newest Changes:</h4>
<ul>
	<li>Removed the <i>substr</i> operation, as it is deprecated.</li>
	<li>Added the <i>pad</i> operations.</li>
	<li>Added <i>EXTERNAL CONTROLS</i>. These include clipboard functions such as <i>Copy</i> and <i>Paste</i>.</li>
	<li>Added a new section in <i>GENERAL STRING INFO</i> that returns the first, last, and most repeated characters in the String.</li>
	<li>Slightly improved header overflow.</li>
	<li>Adjusted the widths of the left and right sections.</li>
	<li>Added readability in <i>GENERAL STRING INFO</i> for some characters that may appear as blank.</li>
</ul>
</header>

<div class="main-container">
<section class="left-info">
<h3>STRING CONTROLS</h3>
<hr>
<button onclick="StrControls.clear()">Clear</button>
<button onclick="StrControls.reverse()">Reverse</button><br>
<hr>
<button onclick="StrControls.repeat(2)">Duplicate</button>
<button onclick="StrControls.repeatMirror()">Mirror-Duplicate</button><br>
<input type="number" class="str-repeat" placeholder="Multiplier">
<button onclick="StrControls.repeat('r')">Repeat</button><br>
<button onclick="StrControls.repeat('c')">Char Repeat</button><br>
<hr>
<button onclick="StrControls.trim('a')">Trim</button>
<button onclick="StrControls.trim('s')">Trim Start</button>
<button onclick="StrControls.trim('e')">Trim End</button><br>
<hr>
<button onclick="StrControls.case('l')">lowercase</button>
<button onclick="StrControls.case('u')">UPPERCASE</button>
<button onclick="StrControls.case('t')">tOGGLE cASE</button>
<button onclick="StrControls.case('s')">SwItCh cAsE</button>
<button onclick="StrControls.case('r')">RaNDOm caSE</button><br>
<hr>
<input type="number" class="str-slice" placeholder="Start">
<input type="number" class="str-slice" placeholder="End">
<button onclick="StrControls.slice()">Slice</button><br>
<input type="number" class="str-substring" placeholder="Start">
<input type="number" class="str-substring" placeholder="End">
<button onclick="StrControls.substring()">Substring</button><br>
<input type="number" class="str-pad" placeholder="Length">
<input type="text" class="str-pad" placeholder="Padder">
<button onclick="StrControls.pad()">Pad Start</button>
<button onclick="StrControls.pad('e')">Pad End</button><br>
<hr>
<input type="number" class="str-moveChar" placeholder="Multiplier">
<button onclick="StrControls.moveChar()">Shift First to Last</button>
<button onclick="StrControls.moveChar('l')">Shift Last to First</button><br>
<hr>
<input type="text" class="str-replace" placeholder="Replaced">
<input type="text" class="str-replace" placeholder="Replacer">
<button onclick="StrControls.replace()">Replace</button>
<button onclick="StrControls.replace('a')">Replace All</button><br>
<input type="text" class="str-remove" placeholder="Removed">
<button onclick="StrControls.remove()">Remove</button>
<button onclick="StrControls.remove('a')">Remove All</button><br>
<button onclick="StrControls.remove('l')">Remove Lowercase</button>
<button onclick="StrControls.remove('u')">Remove Uppercase</button><br>
<button onclick="StrControls.remove('p')">Remove Letters</button>
<button onclick="StrControls.remove('d')">Remove Numbers</button><br>
<button onclick="StrControls.remove('s')">Remove Whitespaces</button>
<button onclick="StrControls.remove('n')">Remove Newlines</button><br>
<hr>
<h3>EXTERNAL CONTROLS</h3>
<button onclick="ExtControls.copy()">Copy To Clipboard</button>
<button onclick="ExtControls.copy('d')">Cut</button>
<button onclick="ExtControls.paste()">Paste</button>
<button onclick="ExtControls.paste('a')">Append Paste</button><br>
<br><br><br>
</section>

<section class="middle-txtarea">
<textarea id="strval" placeholder="Input String here..." oninput="updateInfo()">
</textarea>
</section>

<section class="right-info">
<h3>GENERAL STRING INFO</h3>
<hr>
<p>Length: 0</p>
<p>Letters: 0</p>
<p>Numbers: 0</p>
<p>Miscellaneous: 0</p>
<hr>
<p>Uppercase Letters: 0</p>
<p>Lowercase Letters: 0</p>
<hr>
<p>Spaces: 0</p>
<p>Tab Characters: 0</p>
<p>Newlines: 0</p>
<hr>
<p>First Character: Nothing</p>
<p>Last Character: Nothing</p>
<p>Mode Characters: Nothing</p>
<br><br><br>
</section>
</div>
<script>
function gID(id) {return document.getElementById(id);}
function gClass(cls) {return document.getElementsByClassName(cls);}
function gTag(tag) {return document.getElementsByTagName(tag);}

var ta = gID("strval");

var ElmControls = {
	aboutHeight: '10%',
	aboutOverflowY: 'hidden'
};

function toggleAbout() {
	// NOTE: Always edit the height true value depending on the Newest Changes list height.
	gTag("header")[0].style.height = ElmControls.aboutHeight === '10%' ? '75%' : '10%';
	ElmControls.aboutHeight = gTag("header")[0].style.height;
	gTag("header")[0].style.overflowY = ElmControls.aboutOverflowY === 'hidden' ? 'auto' : 'hidden';
	ElmControls.aboutOverflowY = gTag("header")[0].style.overflowY;
}
gTag("header")[0].addEventListener("click", toggleAbout);

function makeReadable(c) {
	switch (c) {
	case ' ':
		return "Space";
		break;
	case '\n':
		return "Newline";
		break;
	case '\t':
		return "Tab";
		break;
	case '\v':
		return "Vertical Tab";
		break;
	case '\0':
		return "Null";
		break;
	default:
		return c;
	}
}

function updateInfo() {
	var rip = gClass("right-info")[0].getElementsByTagName("p");
	rip[0].innerText = "Length: " + ta.value.length;
	var strvala = 0, strvaln = 0, strvalm = 0, strvalendl = 0;
	const charCount = {};
	var maxCount = 0, maxChars = [];
	for (var char of ta.value) {
		charCount[char] = (charCount[char] || 0) + 1;
		if (/[a-z]/i.test(char)) {
			strvala++;
		} else if (/[0-9]/.test(char)) {
			strvaln++;
		} else {
			strvalm++;
		}
	}
	rip[1].innerText = "Letters: " + strvala;
	rip[2].innerText = "Numbers: " + strvaln;
	rip[3].innerText = "Miscellaneous: " + strvalm;

	var uc = 0, lc = 0;
	for (var char of ta.value) {
		if (/[A-Z]/.test(char)) {
			uc++;
		} else if (/[a-z]/.test(char)) {
			lc++;
		}
	}
	rip[4].innerText = "Uppercase Letters: " + uc;
	rip[5].innerText = "Lowercase Letters: " + lc;

	rip[6].innerText = "Spaces: " + (ta.value.match(/\s/g) || []).length;
	rip[7].innerText = "Tab Characters: " + (ta.value.match(/\t/g) || []).length;
	rip[8].innerText = "Newlines: " + (ta.value.match(/\n/g) || []).length;

	for (var char in charCount) {
        if (charCount[char] > maxCount) {
            maxCount = charCount[char];
            maxChars = [char];
        } else if (charCount[char] === maxCount) {
            maxChars.push(char);
        }
    }
    for (var char in maxChars) {
    	maxChars[char] = makeReadable(maxChars[char]);
    }
	rip[9].innerText = "First Character: " + (ta.value.length !== 0 ? makeReadable(ta.value[0]) : "Nothing");
	rip[10].innerText = "Last Character: " + (ta.value.length !== 0 ? makeReadable(ta.value[ta.value.length - 1]) : "Nothing");
	rip[11].innerText = "Mode Characters: " + (ta.value.length !== 0 ? maxChars.join(", ") : "Nothing");
}

var StrControls = {
	case: function(access) {
		switch (access) {
		case 'l':
			ta.value = ta.value.toLowerCase();
			break;
		case 'u':
			ta.value = ta.value.toUpperCase();
			break;
		case 't':
			ta.value = ta.value.split('').map(char => char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()).join('');
			break;
		case 's':
			ta.value = ta.value.split('').map((char, index) => index % 2 === 0 ? char.toUpperCase() : char.toLowerCase()).join('');
			break;
		case 'r':
			ta.value = ta.value.split('').map((char, index) => Math.random() < 0.5 ? char.toUpperCase() : char.toLowerCase()).join('');
			break;
		}
		updateInfo();
	},
	clear: function() {
		ta.value = "";
		updateInfo();
	},
	moveChar: function(access) {
		var mult = gClass("str-moveChar")[0].value || 1;
		if (!(ta.value.length <= 1) && !(mult <= 0)) {
			ta.value = access === 'l' ? ta.value.slice(-mult) + ta.value.slice(0, -mult) : ta.value.slice(mult) + ta.value.slice(0, mult);
			updateInfo();
		}
	},
	pad: function(access) {
		ta.value = access === 'e' ? ta.value.padEnd(Math.abs(Number(gClass("str-pad")[0].value)), gClass("str-pad")[1].value) : ta.value.padStart(Math.abs(Number(gClass("str-pad")[0].value)), gClass("str-pad")[1].value);
		updateInfo();
	},
	remove: function(access) {
		switch (access) {
		case 'a':
			ta.value = ta.value.replaceAll(gClass("str-remove")[0].value, '');
			break;
		case 'l':
			ta.value = ta.value.replace(/[a-z]/g, '');
			break;
		case 'u':
			ta.value = ta.value.replace(/[A-Z]/g, '');
			break;
		case 'p':
			ta.value = ta.value.replace(/[a-zA-Z]/g, '');
			break;
		case 'd':
			ta.value = ta.value.replace(/[0-9]/g, '');
			break;
		case 's':
			ta.value = ta.value.replace(/\s/g, '');
		case 'n':
			ta.value = ta.value.replace(/\n/g, '');
			break;
		default:
			ta.value = ta.value.replace(gClass("str-remove")[0].value, '');
			break;
		}
		updateInfo();
	},
	repeat: function(access) {
		switch (access) {
		case 'r':
			ta.value = ta.value.repeat(Math.abs(Math.trunc(Number(gClass("str-repeat")[0].value))));
			break;
		case 'c':
			ta.value = ta.value.split('').map(char => char.repeat(Math.abs(Math.trunc(Number(gClass("str-repeat")[0].value))))).join('');
			break;
		default:
			ta.value = ta.value.repeat(access);
			break;
		}
		updateInfo();
	},
	repeatMirror: function() {
		ta.value += ta.value.split('').reverse().join('');
		updateInfo();
	},
	replace: function(access) {
		ta.value = access === 'a' ? ta.value.replaceAll(gClass("str-replace")[0].value, gClass("str-replace")[1].value) : ta.value.replace(gClass("str-replace")[0].value, gClass("str-replace")[1].value);
		updateInfo();
	},
	reverse: function() {
		ta.value = ta.value.split('').reverse().join('');
		updateInfo();
	},
	slice: function() {
		var v1 = Number(gClass("str-slice")[0].value), v2 = gClass("str-slice")[1].value;
		v1 = Number.isInteger(v1) ? v1 : isNaN(v1) ? 0 : Math.trunc(v1);
		if (v2 === "" || v2 === '') {
			ta.value = ta.value.slice(v1);
		} else {
			ta.value = ta.value.slice(v1, Number(v2));
		}
		updateInfo();
	},
	substring: function() {
		var v1 = Number(gClass("str-substring")[0].value), v2 = gClass("str-substring")[1].value;
		v1 = Number.isInteger(v1) ? v1 : isNaN(v1) ? 0 : Math.trunc(v1);
		if (v2 === "" || v2 === '') {
			ta.value = ta.value.substring(v1);
		} else {
			ta.value = ta.value.substring(v1, Number(v2));
		}
		updateInfo();
	},
	trim: function(access) {
		switch (access) {
		case 'a':
			ta.value = ta.value.trim();
			break;
		case 's':
			ta.value = ta.value.trimStart();
			break;
		case 'e':
			ta.value = ta.value.trimEnd();
			break;
		}
		updateInfo();
	}
};

var ExtControls = {
	// NOTE: document.execCommand is deprecated, and using 'paste' is disabled on modern browsers. Using navigator.clipboard is a better approach
	copy: function(access) {
		navigator.clipboard.writeText(ta.value).then(text => {
			if (access === 'd') {
				StrControls.clear();
			}
		}).catch(err => {
			console.error("ExtControls returned the following error:", err);
			alert(`Failed to ${access === 'd' ? 'cut': 'copy'} text. Please paste manually or check permissions.`);
		});
	},
	paste: function(access) {
		navigator.clipboard.readText().then(text => {
			if (access === 'a') {
				ta.value += text;
			} else {
				ta.value = text;
			}
			updateInfo();
		}).catch(err => {
			console.error("ExtControls returned the following error:", err);
			alert("Failed to paste text. Please paste manually or check permissions.");
		});
	}
};
</script>
</body>
</html>